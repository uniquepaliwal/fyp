{"version":3,"sources":["core/toasts.js","actions/toasts.js","components/toasts.js"],"names":["dmx","bs5toast","defaults","iconType","position","align","offsetX","offsetY","minWidth","maxWidth","animation","autohide","closable","delay","headerClass","bodyClass","color","container","setup","options","Object","assign","document","createElement","body","appendChild","className","removeAttribute","style","setProperty","clear","textContent","show","node","create","toast","bootstrap","Toast","addEventListener","removeChild","once","showSimple","createSimple","setAttribute","icon","title","subtitle","header","test","isImageFile","innerHTML","alt","strong","small","button","type","message","useHTML","classList","add","Actions","this","parse","Component","attributes","String","default","enum","Number","zIndex","methods","_clear","_show","_showSimple","init","props","performUpdate","updatedProps"],"mappings":"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","file":"dmxBootstrap5Toasts.js","sourcesContent":["dmx.bs5toast = {\r\n  defaults: {\r\n    iconType: 'image',\r\n    position: 'top',\r\n    align: 'right',\r\n    offsetX: 15,\r\n    offsetY: 15,\r\n    //zIndex: 10000,\r\n    minWidth: 240,\r\n    maxWidth: 350,\r\n    animation: true,\r\n    autohide: true,\r\n    closable: true,\r\n    delay: 5000,\r\n    headerClass: '',\r\n    bodyClass: '',\r\n    color: '',\r\n  },\r\n\r\n  container: null,\r\n\r\n  setup (options) {\r\n    options = Object.assign(dmx.bs5toast.defaults, options);\r\n\r\n    if (!dmx.bs5toast.container) {\r\n      dmx.bs5toast.container = document.createElement('div');\r\n      document.body.appendChild(dmx.bs5toast.container);\r\n    }\r\n\r\n    const container = dmx.bs5toast.container;\r\n    container.className = 'toast-container';\r\n    container.removeAttribute('style');\r\n\r\n    container.style.setProperty('position', 'fixed');\r\n    //container.style.setProperty('z-index', options.zIndex);\r\n    container.style.setProperty(options.align, options.offsetX + 'px');\r\n    container.style.setProperty(options.position, options.offsetY + 'px');\r\n    if (options.maxWidth) {\r\n      container.style.setProperty('max-width', options.maxWidth + 'px');\r\n    }\r\n  },\r\n\r\n  clear () {\r\n    if (dmx.bs5toast.container) {\r\n      dmx.bs5toast.container.textContent = '';\r\n    }\r\n  },\r\n\r\n  show (options) {\r\n    options = Object.assign({}, dmx.bs5toast.defaults, options);\r\n\r\n    if (!dmx.bs5toast.container) {\r\n      dmx.bs5toast.setup();\r\n    }\r\n\r\n    const node = dmx.bs5toast.create(options);\r\n    dmx.bs5toast.container.appendChild(node);\r\n\r\n    const toast = new bootstrap.Toast(node, options);\r\n    node.addEventListener('hidden.bs.toast', () => dmx.bs5toast.container.removeChild(node), { once: true });\r\n    toast.show();\r\n  },\r\n\r\n  showSimple (options) {\r\n    options = Object.assign({}, dmx.bs5toast.defaults, options);\r\n\r\n    if (!dmx.bs5toast.container) {\r\n      dmx.bs5toast.setup();\r\n    }\r\n\r\n    const node = dmx.bs5toast.createSimple(options);\r\n    dmx.bs5toast.container.appendChild(node);\r\n\r\n    const toast = new bootstrap.Toast(node, options);\r\n    node.addEventListener('hidden.bs.toast', () => dmx.bs5toast.container.removeChild(node), { once: true });\r\n    toast.show();\r\n  },\r\n\r\n  create (options) {\r\n    const node = document.createElement('div');\r\n    node.className = 'toast';\r\n    node.setAttribute('role', 'alert');\r\n    node.setAttribute('aria-live', 'assertive');\r\n    node.setAttribute('aria-atomic', 'true');\r\n    node.setAttribute('data-delay', options.delay);\r\n\r\n    if (options.minWidth) {\r\n      node.style.setProperty('min-width', options.minWidth + 'px');\r\n    }\r\n\r\n    if (options.icon || options.title || options.subtitle || options.closable) {\r\n      const header = document.createElement('div');\r\n      header.className = 'toast-header';\r\n      if (options.headerClass) header.className += ' ' + options.headerClass;\r\n\r\n      if (options.icon) {\r\n        const isImageFile = (icon) => /\\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(icon);\r\n\r\n        if (isImageFile(options.icon)) {\r\n          header.innerHTML = `<img src=\"${options.icon}\" height=\"20\" class=\"rounded me-2\" alt=\"${options.alt || ''}\">`;\r\n        } else {\r\n          header.innerHTML = `<i class=\"${options.icon} me-2\"></i>`;\r\n        }\r\n      }\r\n\r\n      if (options.title || options.subtitle || options.closable) {\r\n        const strong = document.createElement('strong');\r\n        strong.className = 'me-auto';\r\n        strong.textContent = options.title || '';\r\n        \r\n        header.appendChild(strong);\r\n      }\r\n\r\n      if (options.subtitle) {\r\n        const small = document.createElement('small');\r\n        small.textContent = options.subtitle;\r\n\r\n        header.appendChild(small);\r\n      }\r\n\r\n      if (options.closable) {\r\n        const button = document.createElement('button');\r\n        button.type = 'button';\r\n        button.className = 'btn-close';\r\n        button.setAttribute('data-bs-dismiss', 'toast');\r\n        button.setAttribute('aria-label', 'Close');\r\n\r\n        header.appendChild(button);\r\n      }\r\n\r\n      node.appendChild(header);\r\n    }\r\n\r\n    if (options.message) {\r\n      const body = document.createElement('div');\r\n      body.className = 'toast-body';\r\n      if (options.bodyClass) body.className += ' ' + options.bodyClass;\r\n      if (options.useHTML) {\r\n        body.innerHTML = options.message;\r\n      } else {\r\n        body.textContent = options.message;\r\n      }\r\n\r\n      node.appendChild(body);\r\n    }\r\n    \r\n    return node;\r\n  },\r\n\r\n  createSimple (options) {\r\n    const node = document.createElement('div');\r\n    node.className = 'toast align-items-center';\r\n    node.setAttribute('role', 'alert');\r\n    node.setAttribute('aria-live', 'assertive');\r\n    node.setAttribute('aria-atomic', 'true');\r\n    node.setAttribute('data-delay', options.delay);\r\n\r\n    if (options.minWidth) {\r\n      node.style.setProperty('min-width', options.minWidth + 'px');\r\n    }\r\n\r\n    if (options.type) {\r\n      node.classList.add('border-0', `bg-${options.type}-subtle`, `text-${options.type}-emphasis`);\r\n    }\r\n    \r\n    const container = document.createElement('div');\r\n    container.className = 'd-flex';\r\n\r\n    const body = document.createElement('div');\r\n    body.className = 'toast-body ' + options.bodyClass;\r\n    if (options.useHTML) {\r\n      body.innerHTML = options.message;\r\n    } else {\r\n      body.textContent = options.message;\r\n    }\r\n    container.appendChild(body);\r\n\r\n    if (options.closable) {\r\n      const button = document.createElement('button');\r\n      button.type = 'button';\r\n      button.className = 'btn-close me-2 m-auto';\r\n      button.setAttribute('data-bs-dismiss', 'toast');\r\n      button.setAttribute('aria-label', 'Close');\r\n\r\n      container.appendChild(button);\r\n    }\r\n\r\n    node.appendChild(container);\r\n\r\n    return node;\r\n  },\r\n  \r\n};","dmx.Actions({\r\n\r\n  'toast.setup' (options) {\r\n    dmx.bs5toast.setup(this.parse(options));\r\n  },\r\n\r\n  'toast.show' (options) {\r\n    dmx.bs5toast.show(this.parse(options));\r\n  },\r\n\r\n  'toast.showSimple' (options) {\r\n    dmx.bs5toast.showSimple(this.parse(options));\r\n  },\r\n\r\n  'toast.clear' () {\r\n    dmx.bs5toast.clear();\r\n  },\r\n\r\n});","dmx.Component('bs5-toasts', {\r\n\r\n  attributes: {\r\n    position: {\r\n      type: String,\r\n      default: 'top',\r\n      enum: ['top', 'bottom'],\r\n    },\r\n\r\n    align: {\r\n      type: String,\r\n      default: 'right',\r\n      enum: ['left', 'right'],\r\n    },\r\n\r\n    offsetX: {\r\n      type: Number,\r\n      default: 15,\r\n    },\r\n\r\n    offsetY: {\r\n      type: Number,\r\n      default: 15,\r\n    },\r\n\r\n    minWidth: {\r\n      type: Number,\r\n      default: 240,\r\n    },\r\n\r\n    maxWidth: {\r\n      type: Number,\r\n      default: 350,\r\n    },\r\n\r\n    zIndex: {\r\n      type: Number,\r\n      default: 10000,\r\n    },\r\n\r\n    delay: {\r\n      type: Number,\r\n      default: 5000,\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    clear () {\r\n      this._clear();\r\n    },\r\n\r\n    show (options) {\r\n      this._show(options);\r\n    },\r\n\r\n    showSimple (options) {\r\n      this._showSimple(options);\r\n    },\r\n  },\r\n\r\n  init (node) {\r\n    dmx.bs5toast.setup(this.props);\r\n  },\r\n\r\n  performUpdate (updatedProps) {\r\n    dmx.bs5toast.setup(this.props);\r\n  },\r\n\r\n  _clear () {\r\n    dmx.bs5toast.clear();\r\n  },\r\n\r\n  _show (options) { // options: title, message, delay, closable\r\n    dmx.bs5toast.show(options);\r\n  },\r\n\r\n  _showSimple (options) { // options: message, delay, closable\r\n    dmx.bs5toast.showSimple(options);\r\n  },\r\n\r\n});"]}